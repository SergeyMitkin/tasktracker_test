<?phprequire_once('db.php');/** * Модель авторизации */function authWithCredentials(){    $username = $_POST['login'];    $password = $_POST['password'];    try{        // получаем данные пользователя по логину        $q = "SELECT id, `name`, login, password FROM users WHERE login = '$username'";        $sql = SQL::getInstance()->Select($q);        $row = $sql['0'];        $id = $row['id'];        $login = $row['login'];        $db_password = $row['password'];        $isAuth = 0;        // проверяем соответствие логина и пароля        if ($login == $username && $password == $db_password)  {                $isAuth = 1;        }        // сохраняем данные в сессию        $_SESSION['user'] = $row;    }    catch(PDOException $e){        die("Error: ".$e->getMessage());    }    return $isAuth;}